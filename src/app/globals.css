@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: light;
  --color-background: 237 240 248;
  --color-surface: 226 229 243;
  --color-surface-muted: 212 215 231;
  --color-foreground: 32 38 60;
  --color-muted: 110 118 146;
  --color-border: 198 202 224;
  --color-accent: 79 70 229;
  --color-accent-dark: 67 56 202;
  --radius-sm: 0.75rem;
  --radius-lg: 1.25rem;
  --shadow-soft: none;
}

.dark {
  color-scheme: dark;
  --color-background: 12 14 22;
  --color-surface: 24 27 43;
  --color-surface-muted: 31 34 52;
  --color-foreground: 226 232 255;
  --color-muted: 150 158 192;
  --color-border: 58 63 92;
  --color-accent: 129 140 248;
  --color-accent-dark: 99 102 241;
  --shadow-soft: 0 32px 60px -40px rgba(10, 13, 23, 0.7);
}

html,
body {
  @apply bg-background text-foreground antialiased;
  font-feature-settings: "liga" on, "kern" on;
  text-rendering: optimizeLegibility;
}

body {
  @apply text-[1.05rem] leading-relaxed md:text-[1.09rem];
  letter-spacing: 0.012em;
}

* {
  border-color: rgb(var(--color-border) / 0.6);
}

.prose img,
.game-copy img {
  @apply my-6 rounded-[var(--radius-sm)] w-full md:w-4/5;
}

.prose table,
.game-copy table {
  @apply my-8 w-full overflow-hidden rounded-[var(--radius-lg)] border border-accent/20 text-left text-[0.98rem];
  border-collapse: separate;
  border-spacing: 0;
  box-shadow: var(--shadow-soft);
}

.prose thead,
.game-copy thead {
  background: rgba(var(--color-accent), 0.12);
}

.prose thead th,
.game-copy thead th {
  @apply px-5 py-3 text-sm font-semibold uppercase tracking-[0.16em] text-foreground/90;
  border-bottom: 1px solid rgba(var(--color-border), 0.5);
  border-right: 1px solid rgba(var(--color-border), 0.45);
}

.prose thead th:last-child,
.game-copy thead th:last-child {
  border-right: none;
}

.prose tbody tr,
.game-copy tbody tr {
  background: rgb(var(--color-surface));
}

.prose tbody tr:nth-child(even),
.game-copy tbody tr:nth-child(even) {
  background: rgba(var(--color-surface-muted), 0.75);
}

.prose td,
.game-copy td {
  @apply px-5 py-3 align-top text-foreground/90;
  border-bottom: 1px solid rgba(var(--color-border), 0.4);
  border-right: 1px solid rgba(var(--color-border), 0.35);
}

.prose td:last-child,
.game-copy td:last-child {
  border-right: none;
}

.prose tbody tr:first-child td,
.game-copy tbody tr:first-child td {
  border-top: 1px solid rgba(var(--color-border), 0.4);
}
.prose tbody tr:last-child td,
.game-copy tbody tr:last-child td {
  border-bottom: none;
}

@layer base {
  h1 {
    @apply text-4xl font-bold leading-[1.1] tracking-tight text-foreground md:text-5xl mb-6;
  }

  h2 {
    @apply text-3xl font-semibold leading-[1.15] text-foreground md:text-4xl mb-5;
  }

  h3 {
    @apply text-2xl font-semibold leading-[1.2] text-foreground md:text-3xl mb-4;
  }

  h4 {
    @apply text-xl font-semibold leading-[1.25] text-foreground md:text-2xl mb-3;
  }

  .prose {
    @apply space-y-6 text-[1.05rem] leading-[1.85] text-foreground;
  }

  .dark .prose {
    @apply text-foreground;
  }

  .prose h1 {
    @apply text-4xl font-semibold leading-[1.1] text-foreground md:text-5xl mb-6;
  }

  .prose h2 {
    @apply text-3xl font-semibold mt-10 text-foreground md:text-4xl mb-4;
  }

  .prose h3 {
    @apply text-2xl font-semibold mt-8 text-foreground mb-3;
  }

  .prose h4 {
    @apply text-xl font-semibold mt-6 text-foreground mb-2;
  }

  .prose p {
    @apply text-[1.05rem] leading-[1.85] text-foreground/90;
  }

  .prose strong {
    @apply font-semibold text-foreground;
  }

  .prose em {
    @apply italic text-foreground;
  }

  .prose ul,
  .prose ol {
    @apply space-y-2 pl-5 text-base text-foreground/90;
  }

  .prose ul {
    list-style-type: disc;
  }

  .prose ol {
    list-style-type: decimal;
  }

  .prose li {
    @apply leading-relaxed;
  }

  .prose li > ul,
  .prose li > ol {
    @apply mt-2;
  }

  .prose a {
    @apply font-semibold text-accent underline-offset-[6px] transition hover:text-accent-dark;
  }

  .prose a strong,
  .prose strong a {
    @apply text-accent-dark;
  }

  .prose blockquote {
    @apply border-l-4 border-accent/40 pl-4 italic text-foreground/75;
  }

  .prose code {
    @apply rounded-[0.5rem] bg-surface px-2 py-0.5 text-sm font-mono text-foreground;
  }

  .prose pre {
    @apply overflow-x-auto rounded-[var(--radius-lg)] bg-surface-muted p-5 text-[0.95rem] text-foreground border border-border/50;
  }

  .prose hr {
    @apply border-t border-border/60 my-6;
  }

  .game-copy p {
    font-size: 1.08rem;
    line-height: 1.9;
    letter-spacing: 0.012em;
  }

  @media (min-width: 768px) {
    .game-copy p {
      font-size: 1.14rem;
      line-height: 1.95;
      letter-spacing: 0.014em;
    }
  }

  .game-copy li,
  .game-copy blockquote {
    font-size: 1.08rem;
    line-height: 1.85;
    letter-spacing: 0.012em;
  }

  @media (min-width: 768px) {
    .game-copy li,
    .game-copy blockquote {
      font-size: 1.14rem;
      line-height: 1.9;
      letter-spacing: 0.014em;
    }
  }
}

@layer components {
  .panel {
    border-radius: var(--radius-lg);
    background: rgb(var(--color-surface));
    box-shadow: var(--shadow-soft);
    border: 1px solid rgb(var(--color-border) / 0.65);
  }

  .chip {
    border-radius: 9999px;
    @apply inline-flex items-center gap-2 border border-border/50 bg-surface-muted px-3 py-1 text-xs font-medium text-muted;
  }
}

@layer utilities {
  .shadow-soft {
    box-shadow: var(--shadow-soft);
  }

  .bg-surface-muted {
    background: rgb(var(--color-surface-muted));
  }
}
